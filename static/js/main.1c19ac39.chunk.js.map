{"version":3,"sources":["components/Loader.js","components/Chat.js","utils/consts.js","routes.js","components/Login.js","components/AppRouter.js","components/Navbar.js","App.js","index.js"],"names":["Loader","Container","Grid","container","style","height","window","innerHeight","alignItems","justify","direction","className","Chat","useContext","Context","auth","firestore","useAuthState","user","useState","value","setValue","useCollectionData","collection","orderBy","messages","loading","sendMessage","a","add","uid","displayName","photoURL","text","createdAt","firebase","FieldValue","serverTimestamp","marginTop","width","border","overflowY","borderRadius","map","message","margin","marginLeft","padding","Avatar","src","TextField","fullWidth","rowsMax","variant","onChange","e","target","Button","onClick","LOGIN_ROUTE","CHAT_ROUTE","publicRoutes","path","Component","login","provider","GoogleAuthProvider","signInWithPopup","console","log","background","Box","p","privateRoutes","AppRouter","component","exact","to","Navbar","AppBar","color","position","Toolbar","signOut","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"8VAuBeA,EApBA,WACX,OACI,cAACC,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAMC,WAAS,EACXC,MAAO,CAACC,OAAQC,OAAOC,YAAc,IACrCC,WAAY,SACZC,QAAS,SAHb,SAKI,cAACP,EAAA,EAAD,CACIC,WAAS,EACTK,WAAY,SACZE,UAAW,SAHf,SAKI,sBAAKC,UAAU,aAAf,UAA4B,wBAAW,kC,QCyD5CC,EAjEF,WACT,MAA0BC,qBAAWC,GAA9BC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,UACb,EAAeC,YAAaF,GAArBG,EAAP,oBACA,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA4BC,YACxBN,EAAUO,WAAW,YAAYC,QAAQ,cAD7C,mBAAOC,EAAP,KAAiBC,EAAjB,KAIMC,EAAW,uCAAG,sBAAAC,EAAA,sDAChBZ,EAAUO,WAAW,YAAYM,IAAI,CACjCC,IAAKZ,EAAKY,IACVC,YAAab,EAAKa,YAClBC,SAAUd,EAAKc,SACfC,KAAMb,EACNc,UAAWC,IAASnB,UAAUoB,WAAWC,oBAE7ChB,EAAS,IARO,2CAAH,qDAWjB,OAAIK,EAAgB,cAAC,EAAD,IAGhB,cAACzB,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAMC,WAAS,EACXC,MAAO,CAACC,OAAQC,OAAOC,YAAc,GAAI+B,UAAW,IACpD7B,QAAU,SAFd,UAII,sBAAKL,MAAO,CAAEmC,MAAO,MAAOlC,OAAQ,OAAQmC,OAAQ,iBAAkBC,UAAW,OAAQC,aAAc,OAAvG,UACKjB,EAASkB,KAAI,SAAAC,GAAO,OACjB,sBAA2CxC,MAAO,CAC9CyC,OAAQ,GACRL,OAAQtB,EAAKY,MAAQc,EAAQd,IAAM,kBAAoB,iBACvDgB,WAAY5B,EAAKY,MAAQc,EAAQd,IAAM,OAAS,OAChDS,MAAO,cACPQ,QAAS,GALb,UAOI,eAAC7C,EAAA,EAAD,CAAMC,WAAS,EAAf,UACI,cAAC6C,EAAA,EAAD,CAAQC,IAAML,EAAQZ,WACtB,8BAAOY,EAAQb,iBAEnB,8BAAOa,EAAQX,SAXTW,EAAQd,IAAMc,EAAQV,cAcpC,2BAEJ,eAAChC,EAAA,EAAD,CACQC,WAAS,EACTO,UAAW,SACXF,WAAY,WACZJ,MAAO,CAACmC,MAAO,OAJvB,UAMQ,cAACW,EAAA,EAAD,CACIC,WAAS,EACTC,QAAS,EACTC,QAAS,WACTjC,MAAOA,EACPkC,SAAU,SAAAC,GAAC,OAAIlC,EAASkC,EAAEC,OAAOpC,UAErC,cAACqC,EAAA,EAAD,CAAQC,QAAS/B,EAAa0B,QAAS,WAAYjD,MAAO,CAACkC,UAAW,GAAtE,2B,SClEXqB,EAAc,SACdC,EAAa,QCGbC,EAAe,CACxB,CACIC,KAAMH,EACNI,UCFM,WACV,IAAQhD,EAASF,qBAAWC,GAApBC,KAEFiD,EAAK,uCAAG,gCAAApC,EAAA,6DACJqC,EAAW,IAAI9B,IAASpB,KAAKmD,mBADzB,SAEanD,EAAKoD,gBAAgBF,GAFlC,gBAEF/C,EAFE,EAEFA,KACRkD,QAAQC,IAAInD,GAHF,2CAAH,qDAMX,OACI,cAACjB,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAMC,WAAS,EACXC,MAAO,CAACC,OAAQC,OAAOC,YAAc,IACrCC,WAAY,SACZC,QAAS,SAHb,SAKI,cAACP,EAAA,EAAD,CAAME,MAAO,CAACmC,MAAM,IAAK+B,WAAY,aACjCnE,WAAS,EACTK,WAAY,SACZE,UAAW,SAHf,SAKI,cAAC6D,EAAA,EAAD,CAAKC,EAAG,EAAR,SACI,cAACf,EAAA,EAAD,CAAQC,QAASM,EAAOX,QAAS,WAAjC,yCDhBXoB,EAAgB,CACzB,CACIX,KAAMF,EACNG,UAAWnD,IEiBJ8D,EAxBG,WACd,IAAO3D,EAAQF,qBAAWC,GAAnBC,KACP,EAAeE,YAAaF,GAE5B,OAFA,oBAIQ,eAAC,IAAD,WACK0D,EAAc9B,KAAI,gBAAEmB,EAAF,EAAEA,KAAMC,EAAR,EAAQA,UAAR,OACf,cAAC,IAAD,CAAkBD,KAAMA,EAAMa,UAAWZ,EAAWa,OAAO,GAA/Cd,MAEhB,cAAC,IAAD,CAAUe,GAAIjB,OAKlB,eAAC,IAAD,WACKC,EAAalB,KAAI,gBAAEmB,EAAF,EAAEA,KAAMC,EAAR,EAAQA,UAAR,OACd,cAAC,IAAD,CAAkBD,KAAMA,EAAMa,UAAWZ,EAAWa,OAAO,GAA/Cd,MAEhB,cAAC,IAAD,CAAUe,GAAIlB,Q,kBCIfmB,EArBA,WACX,IAAO/D,EAAQF,qBAAWC,GAAnBC,KACP,EAAeE,YAAaF,GAArBG,EAAP,oBAEA,OACI,cAAC6D,EAAA,EAAD,CAAQC,MAAM,YAAYC,SAAS,SAAnC,SACI,cAACC,EAAA,EAAD,CAAS7B,QAAS,QAAlB,SACI,cAACnD,EAAA,EAAD,CAAMC,WAAS,EAACM,QAAS,WAAzB,SACKS,EACG,cAACuC,EAAA,EAAD,CAAQC,QAAS,kBAAM3C,EAAKoE,WAAW9B,QAAS,WAAhD,oBAEA,cAAC,IAAD,CAASwB,GAAIlB,EAAb,SACI,cAACF,EAAA,EAAD,CAAQJ,QAAS,WAAjB,4BCEb+B,MAdf,WACE,IAAOrE,EAAQF,qBAAWC,GAAnBC,KACP,EAA+BE,YAAaF,GAA5C,mBAAaW,GAAb,WAEA,OAFA,KAEIA,EAAiB,cAAC,EAAD,IAGnB,eAAC,IAAD,WACE,cAAC,EAAD,IACA,cAAC,EAAD,Q,YCVNS,IAASkD,cAAc,CACrBC,OAAQ,0CACRC,WAAY,mCACZC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAGV,IAAM9E,EAAU+E,wBAAc,MAE/B9E,EAAOoB,IAASpB,OAChBC,EAAYmB,IAASnB,YAE3B8E,IAASC,OACP,cAACjF,EAAQkF,SAAT,CAAkB5E,MAAO,CACvBe,aACApB,OACAC,aAHF,SAKE,cAAC,EAAD,MAEFiF,SAASC,eAAe,W","file":"static/js/main.1c19ac39.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Container, Grid } from '@material-ui/core';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                style={{height: window.innerHeight - 50}}\r\n                alignItems={\"center\"}\r\n                justify={\"center\"}\r\n            >\r\n                <Grid\r\n                    container\r\n                    alignItems={\"center\"}\r\n                    direction={\"column\"}\r\n                >\r\n                    <div className=\"lds-ripple\"><div></div><div></div></div>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Loader;","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport { Avatar, Box, Button, Container, Grid, TextField } from '@material-ui/core';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { Context } from '..';\r\nimport Loader from './Loader';\r\nimport firebase from 'firebase';\r\n\r\nconst Chat = () => {\r\n    const {auth, firestore} = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n    const [value, setValue] = useState('');\r\n    const [messages, loading] = useCollectionData(\r\n        firestore.collection('messages').orderBy('createdAt')\r\n    )\r\n\r\n    const sendMessage = async () => {\r\n        firestore.collection('messages').add({\r\n            uid: user.uid,\r\n            displayName: user.displayName,\r\n            photoURL: user.photoURL,\r\n            text: value,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        });\r\n        setValue('');\r\n    }\r\n\r\n    if (loading) return <Loader />\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                style={{height: window.innerHeight - 70, marginTop: 20}}\r\n                justify={ \"center\" }\r\n            >\r\n                <div style={{ width: '80%', height: '70vh', border: '1px solid gray', overflowY: 'auto', borderRadius: '4px' }}>\r\n                    {messages.map(message => \r\n                        <div key={message.uid + message.createdAt} style={{\r\n                            margin: 10,\r\n                            border: user.uid === message.uid ? '2px solid green' : '2px dashed red',\r\n                            marginLeft: user.uid === message.uid ? 'auto' : '10px',\r\n                            width: 'fit-content',\r\n                            padding: 7,\r\n                        }}>\r\n                            <Grid container>\r\n                                <Avatar src={ message.photoURL }/>\r\n                                <div>{ message.displayName }</div>\r\n                            </Grid>\r\n                            <div>{ message.text }</div>\r\n                        </div>\r\n                    )}\r\n                    <div></div>\r\n                </div>\r\n                <Grid\r\n                        container\r\n                        direction={\"column\"}\r\n                        alignItems={\"flex-end\"}\r\n                        style={{width: '80%'}}\r\n                    >\r\n                        <TextField\r\n                            fullWidth\r\n                            rowsMax={2}\r\n                            variant={'outlined'}\r\n                            value={value}\r\n                            onChange={e => setValue(e.target.value)}\r\n                        />\r\n                        <Button onClick={sendMessage} variant={'outlined'} style={{marginTop: 8}}>Send</Button>\r\n                    </Grid>\r\n            </Grid>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Chat;","export const LOGIN_ROUTE = '/login';\r\nexport const CHAT_ROUTE = '/chat';\r\n","import Chat from \"./components/Chat\";\r\nimport Login from \"./components/Login\";\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from \"./utils/consts\";\r\n\r\nexport const publicRoutes = [\r\n    {\r\n        path: LOGIN_ROUTE,\r\n        Component: Login\r\n    }\r\n]\r\n\r\nexport const privateRoutes = [\r\n    {\r\n        path: CHAT_ROUTE,\r\n        Component: Chat\r\n    }\r\n]","import { Box, Button, Container, Grid } from '@material-ui/core';\r\nimport React, { useContext } from 'react';\r\nimport { Context } from '../index';\r\nimport firebase from 'firebase';\r\n\r\nconst Login = () => {\r\n    const { auth } = useContext(Context);\r\n\r\n    const login = async () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        const { user } = await auth.signInWithPopup(provider);\r\n        console.log(user);\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                style={{height: window.innerHeight - 50}}\r\n                alignItems={\"center\"}\r\n                justify={\"center\"}\r\n            >\r\n                <Grid style={{width:400, background: 'lightgray'}}\r\n                    container\r\n                    alignItems={\"center\"}\r\n                    direction={\"column\"}\r\n                >\r\n                    <Box p={5}>\r\n                        <Button onClick={login} variant={\"outlined\"} >Join with GOOGLE</Button>\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Login;","import React, { useContext } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { Context } from '..';\r\nimport { privateRoutes, publicRoutes } from '../routes';\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from '../utils/consts';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\n\r\nconst AppRouter = () => {\r\n    const {auth} = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n    \r\n    return user ? \r\n        (\r\n            <Switch>\r\n                {privateRoutes.map(({path, Component}) =>\r\n                    <Route key={path} path={path} component={Component} exact={true} />\r\n                )}\r\n                <Redirect to={CHAT_ROUTE}/>\r\n            </Switch>\r\n        )\r\n        :\r\n        (\r\n            <Switch>\r\n                {publicRoutes.map(({path, Component}) =>\r\n                    <Route key={path} path={path} component={Component} exact={true} />\r\n                )}\r\n                <Redirect to={LOGIN_ROUTE}/>\r\n            </Switch>\r\n        )\r\n};\r\n\r\nexport default AppRouter;","import React, { useContext } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { Button, Grid } from '@material-ui/core';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { LOGIN_ROUTE } from '../utils/consts';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { Context } from '..';\r\n\r\nconst Navbar = () => {\r\n    const {auth} = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n\r\n    return (\r\n        <AppBar color=\"secondary\" position=\"static\">\r\n            <Toolbar variant={\"dense\"}>\r\n                <Grid container justify={\"flex-end\"}>\r\n                    {user ? \r\n                        <Button onClick={() => auth.signOut()} variant={\"outlined\"}>Logout</Button>\r\n                        :\r\n                        <NavLink to={LOGIN_ROUTE}>\r\n                            <Button variant={\"outlined\"}>Login</Button>\r\n                        </NavLink>\r\n                    }                    \r\n                </Grid>    \r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n};\r\n\r\nexport default Navbar;","import { useContext } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport AppRouter from './components/AppRouter';\nimport Navbar from './components/Navbar';\nimport { Context } from './index';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport Loader from './components/Loader';\n\nfunction App() {\n  const {auth} = useContext(Context);\n  const [user, loading, error] = useAuthState(auth);\n\n  if (loading) {return <Loader/>}\n\n  return (\n    <BrowserRouter>\n      <Navbar/>\n      <AppRouter/>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React, { createContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyCiMvwfDQMYkRymiFvWa51_DR0C89wG94E\",\n  authDomain: \"chat-react-5365c.firebaseapp.com\",\n  projectId: \"chat-react-5365c\",\n  storageBucket: \"chat-react-5365c.appspot.com\",\n  messagingSenderId: \"168969753641\",\n  appId: \"1:168969753641:web:5eca2802cfef7029177838\",\n  measurementId: \"G-S0EM5JXSGS\"\n});\n\nexport const Context = createContext(null);\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nReactDOM.render(\n  <Context.Provider value={{\n    firebase,\n    auth,\n    firestore\n  }}>\n    <App />\n  </Context.Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}