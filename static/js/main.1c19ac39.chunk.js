(this["webpackJsonpchat-react-firebase"]=this["webpackJsonpchat-react-firebase"]||[]).push([[0],{59:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return J}));var c=n(0),a=n(16),r=n.n(a),i=(n(59),n(27)),s=n(43),o=n(18),j=n(39),d=n.n(j),u=n(48),l=n(120),h=n(123),b=n(130),O=n(126),x=n(129),p=n(31),f=n(63),m=n(7),v=function(){return Object(m.jsx)(l.a,{children:Object(m.jsx)(h.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(m.jsx)(h.a,{container:!0,alignItems:"center",direction:"column",children:Object(m.jsxs)("div",{className:"lds-ripple",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})})})})},g=n(30),y=function(){var e=Object(c.useContext)(J),t=e.auth,n=e.firestore,a=Object(p.a)(t),r=Object(i.a)(a,1)[0],s=Object(c.useState)(""),o=Object(i.a)(s,2),j=o[0],y=o[1],w=Object(f.a)(n.collection("messages").orderBy("createdAt")),C=Object(i.a)(w,2),I=C[0],k=C[1],L=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:j,createdAt:g.a.firestore.FieldValue.serverTimestamp()}),y("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?Object(m.jsx)(v,{}):Object(m.jsx)(l.a,{children:Object(m.jsxs)(h.a,{container:!0,style:{height:window.innerHeight-70,marginTop:20},justify:"center",children:[Object(m.jsxs)("div",{style:{width:"80%",height:"70vh",border:"1px solid gray",overflowY:"auto",borderRadius:"4px"},children:[I.map((function(e){return Object(m.jsxs)("div",{style:{margin:10,border:r.uid===e.uid?"2px solid green":"2px dashed red",marginLeft:r.uid===e.uid?"auto":"10px",width:"fit-content",padding:7},children:[Object(m.jsxs)(h.a,{container:!0,children:[Object(m.jsx)(b.a,{src:e.photoURL}),Object(m.jsx)("div",{children:e.displayName})]}),Object(m.jsx)("div",{children:e.text})]},e.uid+e.createdAt)})),Object(m.jsx)("div",{})]}),Object(m.jsxs)(h.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(m.jsx)(O.a,{fullWidth:!0,rowsMax:2,variant:"outlined",value:j,onChange:function(e){return y(e.target.value)}}),Object(m.jsx)(x.a,{onClick:L,variant:"outlined",style:{marginTop:8},children:"Send"})]})]})})},w=n(128),C="/login",I="/chat",k=[{path:C,Component:function(){var e=Object(c.useContext)(J).auth,t=function(){var t=Object(u.a)(d.a.mark((function t(){var n,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new g.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:c=t.sent,a=c.user,console.log(a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsx)(l.a,{children:Object(m.jsx)(h.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(m.jsx)(h.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(m.jsx)(w.a,{p:5,children:Object(m.jsx)(x.a,{onClick:t,variant:"outlined",children:"Join with GOOGLE"})})})})})}}],L=[{path:I,Component:y}],S=function(){var e=Object(c.useContext)(J).auth,t=Object(p.a)(e);return Object(i.a)(t,1)[0]?Object(m.jsxs)(o.d,{children:[L.map((function(e){var t=e.path,n=e.Component;return Object(m.jsx)(o.b,{path:t,component:n,exact:!0},t)})),Object(m.jsx)(o.a,{to:I})]}):Object(m.jsxs)(o.d,{children:[k.map((function(e){var t=e.path,n=e.Component;return Object(m.jsx)(o.b,{path:t,component:n,exact:!0},t)})),Object(m.jsx)(o.a,{to:C})]})},A=n(124),G=n(125),R=function(){var e=Object(c.useContext)(J).auth,t=Object(p.a)(e),n=Object(i.a)(t,1)[0];return Object(m.jsx)(A.a,{color:"secondary",position:"static",children:Object(m.jsx)(G.a,{variant:"dense",children:Object(m.jsx)(h.a,{container:!0,justify:"flex-end",children:n?Object(m.jsx)(x.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"Logout"}):Object(m.jsx)(s.b,{to:C,children:Object(m.jsx)(x.a,{variant:"outlined",children:"Login"})})})})})};var E=function(){var e=Object(c.useContext)(J).auth,t=Object(p.a)(e),n=Object(i.a)(t,3),a=(n[0],n[1]);return n[2],a?Object(m.jsx)(v,{}):Object(m.jsxs)(s.a,{children:[Object(m.jsx)(R,{}),Object(m.jsx)(S,{})]})};n(90),n(91);g.a.initializeApp({apiKey:"AIzaSyCiMvwfDQMYkRymiFvWa51_DR0C89wG94E",authDomain:"chat-react-5365c.firebaseapp.com",projectId:"chat-react-5365c",storageBucket:"chat-react-5365c.appspot.com",messagingSenderId:"168969753641",appId:"1:168969753641:web:5eca2802cfef7029177838",measurementId:"G-S0EM5JXSGS"});var J=Object(c.createContext)(null),M=g.a.auth(),N=g.a.firestore();r.a.render(Object(m.jsx)(J.Provider,{value:{firebase:g.a,auth:M,firestore:N},children:Object(m.jsx)(E,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.1c19ac39.chunk.js.map